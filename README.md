# mini-react 第一天

从原生JS的写法开始，创建一个dom添加到根节点中，再创建一个文本节点添加到dom里面。我的JS基本功还是太差了，这里创建文本节点使用createTextNode之前都没用过，都是使用的textContent直接赋值。

然后将原生写法中可变动的部分抽离成虚拟节点的概念，也就是JS对象，这和Vue中vnode是一致的，理解上也就相通。
再将固定写死的虚拟节点，通过封装的函数进行创建。这里createElement方法中第三个参数通过扩展运算符可以转化成一个数组，vocal完全不知道，记录学习一下。

JS函数参数前面使用三个点（...）表示剩余参数。剩余参数语法允许将不定数量的参数表示为一个数组。当函数定义中使用剩余参数语法时，传递给函数的所有参数都会被捕获并放入一个数组中。

最后，根据创建dom和创建文本节点的动作是重复的，抽离封装render函数，通过递归可以完成节点树的创建，但是当节点树层级太深节点数量巨大，递归实现的缺点就很明显，每次递归创建都会创建一个函数的执行上下文，那占据的内存空间就会很多，性能上也会很差。像之前工作中就遇到过用递归操作会出现栈溢出的现象。

最后为了和真实react的API相同，创建函数名进行导出就很简单了。

还有JSX的使用就是通过vite自动转化，至于内部是怎么实现不太清楚，期待崔大的mini-vite，手动狗头。

附上仓库地址：https://github.com/Zuowendong/mini-react/tree/v1